server:
  port: 8186

debug: true

# 日志配置
logging:
  level:
    com.phms.mapper: debug
    org.springframework.web: DEBUG
    org.springframework.boot.autoconfigure: ERROR

# 数据库配置
spring:
  datasource:
    name: test
    url: jdbc:mysql://localhost:3306/phms?useUnicode=true&characterEncoding=utf8&useJDBCCompliantTimezoneShift=true&useLegacyDatetimeCode=false&serverTimezone=UTC
    username: root
    password: 123456
    driver-class-name: com.mysql.jdbc.Driver
    type: com.alibaba.druid.pool.DruidDataSource
    druid:
      initial-size: 10
      min-idle: 10
      max-active: 200
      max-wait: 60000
      time-between-eviction-runs-millis: 60000
      min-evictable-idle-time-millis: 300000
      validation-query: SELECT 1 FROM DUAL
      test-while-idle: true
      test-on-borrow: false
      test-on-return: false
      pool-prepared-statements: true
      max-pool-prepared-statement-per-connection-size: 20
      filters: stat,wall,log4j

  # FreeMarker配置
  freemarker:
    enabled: false

  # 静态资源配置
  mvc:
    static-path-pattern: /**
  resources:
    static-locations: classpath:/static/

  # HTTP编码配置
  http:
    encoding:
      enabled: true
      force: true
      charset: UTF-8

  # 文件上传配置
  servlet:
    multipart:
      max-file-size: 10MB
      max-request-size: 10MB

  # Jackson配置
  jackson:
    date-format: yyyy/MM/dd HH:mm:ss

  # 邮件配置
  mail:
    host: smtp.qq.com
    port: 587
    username: jianglianglovepet@qq.com
    password: zyihrleyrtlldffb
    properties:
      mail:
        smtp:
          auth: true
          starttls:
            enable: true
    default-encoding: UTF-8

  # Redis配置
  redis:
    host: localhost
    port: 6379
    password: 
    database: 0
    timeout: 5000
    lettuce:
      pool:
        max-active: 200
        max-idle: 20
        min-idle: 5
        max-wait: 10000

# MyBatis配置
mybatis:
  type-aliases-package: com.phms
  mapper-locations: classpath*:com/phms/mapper/*.xml

# PageHelper配置
pagehelper:
  helperDialect: mysql
  reasonable: true
  supportMethodsArguments: true
  params: count=countSql
  pageSize: 10

# 自动配置排除
spring.autoconfigure.exclude: com.github.pagehelper.autoconfigure.PageHelperAutoConfiguration

# JWT配置
jwt:
  secret: phms-jwt-secret-key-2024-pet-hospital-management-system-secure-random-string-minimum-256-bits
  expiration: 7200000 # 2小时（毫秒）

# Log4j配置
log4j:
  logger:
    com.ibatis: DEBUG
    com.ibatis.common.jdbc.SimpleDataSource: DEBUG
    com.ibatis.common.jdbc.ScriptRunner: DEBUG
    com.ibatis.sqlmap.engine.impl.SqlMapClientDelegate: DEBUG
    Java.sql.Connection: DEBUG
    java.sql.Statement: DEBUG
    java.sql.PreparedStatement: DEBUG
