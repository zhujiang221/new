# ğŸ§ª è‡ªåŠ¨åŒ–æµ‹è¯•å¿«é€ŸæŒ‡å—

## ğŸ“¦ å®‰è£…æ­¥éª¤

### 1. å®‰è£…ä¾èµ–

```bash
npm install
```

### 2. å®‰è£…Playwrightæµè§ˆå™¨

```bash
npx playwright install chromium
```

### 3. é…ç½®æµ‹è¯•è´¦å·

ç¼–è¾‘ `e2e/utils/auth.ts`ï¼Œä¿®æ”¹æµ‹è¯•è´¦å·ä¿¡æ¯ï¼š

```typescript
export const TEST_USERS = {
  admin: { username: 'admin', password: '123456', role: 'admin' },
  doctor: { username: 'doctor', password: '123456', role: 'doctor' },
  user: { username: 'user', password: '123456', role: 'user' }
};
```

## ğŸš€ è¿è¡Œæµ‹è¯•

### å¯åŠ¨æœåŠ¡

ç¡®ä¿å‰åç«¯æœåŠ¡éƒ½åœ¨è¿è¡Œï¼š

```bash
# ç»ˆç«¯1: å¯åŠ¨å‰ç«¯ï¼ˆç«¯å£5173ï¼‰
npm run dev

# ç»ˆç«¯2: å¯åŠ¨åç«¯ï¼ˆç«¯å£8186ï¼‰
# åœ¨Backendç›®å½•è¿è¡ŒSpring Bootåº”ç”¨
```

### è¿è¡Œæµ‹è¯•å‘½ä»¤

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
npm run test

# è¿è¡Œæ‰€æœ‰æµ‹è¯•å¹¶ç”ŸæˆæŠ¥å‘Š
npm run test:all

# è¿è¡Œç‰¹å®šè§’è‰²çš„æµ‹è¯•
npm run test:auth      # è®¤è¯æµ‹è¯•
npm run test:user      # ç”¨æˆ·è§’è‰²æµ‹è¯•
npm run test:doctor    # åŒ»ç”Ÿè§’è‰²æµ‹è¯•
npm run test:admin     # ç®¡ç†å‘˜è§’è‰²æµ‹è¯•

# å¯è§†åŒ–è¿è¡Œï¼ˆæ¨èè°ƒè¯•æ—¶ä½¿ç”¨ï¼‰
npm run test:ui        # UIæ¨¡å¼
npm run test:headed    # æœ‰å¤´æ¨¡å¼ï¼ˆå¯ä»¥çœ‹åˆ°æµè§ˆå™¨ï¼‰

# æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š
npm run test:report:open      # æ‰“å¼€HTMLæŠ¥å‘Š
npm run test:report:generate  # ç”Ÿæˆå®Œæ•´æŠ¥å‘Š
```

## ğŸ“Š æµ‹è¯•æŠ¥å‘Š

æµ‹è¯•å®Œæˆåï¼ŒæŠ¥å‘Šæ–‡ä»¶ä½ç½®ï¼š

- **HTMLæŠ¥å‘Š**: `playwright-report/index.html` - æ‰“å¼€æŸ¥çœ‹è¯¦ç»†æµ‹è¯•ç»“æœ
- **JSONç»“æœ**: `test-results/results.json` - æœºå™¨å¯è¯»çš„æµ‹è¯•ç»“æœ
- **MarkdownæŠ¥å‘Š**: `test-results/report.md` - æ–‡æœ¬æ ¼å¼çš„æµ‹è¯•æ‘˜è¦
- **JUnit XML**: `test-results/junit.xml` - CI/CDé›†æˆæ ¼å¼

## ğŸ“‹ æµ‹è¯•è¦†ç›–

### âœ… è®¤è¯åŠŸèƒ½ (auth.spec.ts)
- ç™»å½•/ç™»å‡º
- è§’è‰²æƒé™æ§åˆ¶
- é¡µé¢è®¿é—®æ§åˆ¶

### âœ… ç”¨æˆ·è§’è‰² (user/user.spec.ts)
- å® ç‰©ç®¡ç†
- é¢„çº¦ç®¡ç†
- å¥åº·æ ‡å‡†ã€æ—¥å¿—ã€æŒ‡å—
- ä¸ªäººä¿¡æ¯ç®¡ç†

### âœ… åŒ»ç”Ÿè§’è‰² (doctor/doctor.spec.ts)
- é¢„çº¦å¤„ç†
- è¯Šæ–­è®°å½•
- è¯å“ç®¡ç†
- æ’ç­ç®¡ç†

### âœ… ç®¡ç†å‘˜è§’è‰² (admin/admin.spec.ts)
- ç”¨æˆ·ç®¡ç†
- ç³»ç»Ÿé…ç½®
- æ•°æ®ç»Ÿè®¡
- è·¨è§’è‰²è®¿é—®

## ğŸ”§ å¸¸è§é—®é¢˜

### 1. æµ‹è¯•å¤±è´¥ï¼šæ‰¾ä¸åˆ°å…ƒç´ 

**åŸå› **: é¡µé¢åŠ è½½æ—¶é—´è¿‡é•¿æˆ–å…ƒç´ é€‰æ‹©å™¨ä¸æ­£ç¡®

**è§£å†³**: 
- æ£€æŸ¥ç½‘ç»œè¿æ¥
- å¢åŠ è¶…æ—¶æ—¶é—´
- ç¡®è®¤å‰åç«¯æœåŠ¡æ­£å¸¸è¿è¡Œ

### 2. ç™»å½•å¤±è´¥

**åŸå› **: æµ‹è¯•è´¦å·ä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯

**è§£å†³**: 
- æ£€æŸ¥ `e2e/utils/auth.ts` ä¸­çš„è´¦å·é…ç½®
- ç¡®è®¤æ•°æ®åº“ä¸­å­˜åœ¨è¿™äº›æµ‹è¯•è´¦å·
- æ£€æŸ¥éªŒè¯ç æ˜¯å¦éœ€è¦ç‰¹æ®Šå¤„ç†

### 3. éªŒè¯ç é—®é¢˜

**è§£å†³**: 
- åœ¨æµ‹è¯•ç¯å¢ƒä¸­ç¦ç”¨éªŒè¯ç 
- æˆ–ä½¿ç”¨æµ‹è¯•è´¦å·çš„ç‰¹æ®ŠéªŒè¯ç ï¼ˆå¦‚å›ºå®šå€¼"1234"ï¼‰

### 4. ç«¯å£å†²çª

**è§£å†³**: 
- ç¡®ä¿5173ç«¯å£ï¼ˆå‰ç«¯ï¼‰å’Œ8186ç«¯å£ï¼ˆåç«¯ï¼‰æœªè¢«å ç”¨
- æˆ–ä¿®æ”¹ `playwright.config.ts` ä¸­çš„ `baseURL`

## ğŸ“ ç¼–å†™æ–°æµ‹è¯•

### ç¤ºä¾‹ï¼šæ·»åŠ æ–°çš„æµ‹è¯•ç”¨ä¾‹

```typescript
import { test, expect } from '@playwright/test';
import { login, TEST_USERS } from '../utils/auth';
import { waitForPageLoad } from '../utils/helpers';

test('æˆ‘çš„æ–°æµ‹è¯•', async ({ page }) => {
  // ç™»å½•
  await login(page, TEST_USERS.user);
  await waitForPageLoad(page);
  
  // è®¿é—®é¡µé¢
  await page.goto('/user/pets');
  
  // æ‰§è¡Œæ“ä½œ
  await page.click('button:has-text("æ·»åŠ ")');
  
  // éªŒè¯ç»“æœ
  await expect(page.locator('.success-message')).toBeVisible();
});
```

## ğŸ¯ æœ€ä½³å®è·µ

1. **æµ‹è¯•å‰å‡†å¤‡**: ç¡®ä¿æµ‹è¯•æ•°æ®å­˜åœ¨
2. **ç­‰å¾…ç­–ç•¥**: ä½¿ç”¨ `waitForPageLoad` ç­‰å¾…é¡µé¢åŠ è½½
3. **é”™è¯¯å¤„ç†**: ä½¿ç”¨ `elementExists` æ£€æŸ¥å…ƒç´ æ˜¯å¦å­˜åœ¨
4. **æˆªå›¾è°ƒè¯•**: å¤±è´¥æ—¶è‡ªåŠ¨æˆªå›¾ï¼ŒæŸ¥çœ‹ `test-results/` ç›®å½•
5. **éš”ç¦»æµ‹è¯•**: æ¯ä¸ªæµ‹è¯•åº”è¯¥ç‹¬ç«‹ï¼Œä¸ä¾èµ–å…¶ä»–æµ‹è¯•

## ğŸ“š æ›´å¤šä¿¡æ¯

è¯¦ç»†æ–‡æ¡£è¯·æŸ¥çœ‹: `e2e/README.md`
